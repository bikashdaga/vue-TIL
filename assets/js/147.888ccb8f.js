(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{703:function(s,t,a){"use strict";a.r(t);var n=a(21),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"html-리턴"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html-리턴"}},[s._v("#")]),s._v(" HTML 리턴")]),s._v(" "),a("p",[s._v("라우팅의 결과물로 html문서를 보내기 위해서는 컨트롤러의 "),a("code",[s._v('res.send("<h1>Hello!</h1>");')]),s._v("메서드를 통해 HTML 요소를 직접 리턴해주는 방법을 사용한다.")]),s._v(" "),a("p",[s._v("규모가 큰 HTML 문서 자체를 보내기 위해서 "),a("code",[s._v("res.send()")]),s._v(" 메서드 내에 모든 내용을 작성하기는 너무 비효율적이기에, "),a("strong",[s._v("pug")]),s._v("라는 템플릿 엔진을 활용한다.")]),s._v(" "),a("h2",{attrs:{id:"setting-pug"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setting-pug"}},[s._v("#")]),s._v(" Setting pug")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("npm i pug")])]),s._v(" "),a("li",[s._v("익스프레스로 생성한 앱에 템플릿 엔진을 퍼그로 사용하겠다고 알려준다.")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'view engine'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'pug'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// here!")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("퍼그가 실행되면 기본적으로 뷰를 "),a("code",[s._v("/views")]),s._v("라는 폴더에서 찾는다.")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cwd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/views'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("code",[s._v("process.cwd()")]),s._v(" 는 "),a("strong",[s._v("current working directory")]),s._v("의 약자이다.")]),s._v(" "),a("h2",{attrs:{id:"using-pug"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-pug"}},[s._v("#")]),s._v(" Using pug")]),s._v(" "),a("p",[s._v("디렉토리 위치를 고려하여 "),a("code",[s._v("name.pug")]),s._v(" 파일을 생성한다. "),a("a",{attrs:{href:"https://pugjs.org/api/getting-started.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("pug syntax"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language-pug line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-pug"}},[a("code",[a("span",{pre:!0,attrs:{class:"token doctype"}},[s._v("doctype html")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("html"),a("span",{pre:!0,attrs:{class:"token attributes"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("lang")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ko"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("head")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("title")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("wetube")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("body")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("h1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("Welcome to Wetube")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("footer")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("&copy; 2021 Wetube")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("pug 규칙 몇가지")]),s._v(" "),a("ol",[a("li",[s._v("자식 요소는 부모 요소로부터 다음 라인에 작성하고, 탭으로 간격을 둔다.")]),s._v(" "),a("li",[s._v("닫는 태그는 작성하지 않는다.")]),s._v(" "),a("li",[s._v("태그에 적용되는 어트리뷰트는 괄호 사이에 작성한다.")])])]),s._v(" "),a("p",[s._v("퍼그 작성 후 "),a("code",[s._v('res.render("home")')]),s._v(" 메서드에 퍼그로 생성한 템플릿 엔진을 전달한다. "),a("strong",[s._v("렌더 메서드를 활용해야한다.")]),s._v(" "),a("strong",[s._v("템플릿 엔진은 따로 설정해주지 않으면 위에서도 언급했듯 익스프레스가 /view 디렉토리에서 뷰를 찾는다.")])]),s._v(" "),a("p",[s._v("현재 디렉토리 구조가 다음과 같으면서 뷰 디렉토리에 대한 설정을 따로 해주지 않은 상태라면,")]),s._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("root\n    |--src\n        |-- controllers..\n        |-- routers..\n        |-- views\n...\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("code",[s._v("console.log(process.cwd());")]),s._v(" - "),a("code",[s._v("/Users/parkgyeongjun/Desktop/youtubeClone")])]),s._v(" "),a("p",[s._v("src폴더 하위의 views를 찾아보는 것이 아닌 상태이다. 따라서 해당 위치에 뷰 엔진이 있지 않으면 "),a("code",[s._v("Error: No default engine was specified and no extension was provided")]),s._v(" 에러가 발생하게 된다.")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[a("code",[s._v("process.cwd()")]),s._v("는 서버를 기동하는 파일의 위치에 따라서 달라진다. 서버를 가동하는 파일이란, "),a("code",[s._v("package.json")]),s._v("파일이다.")])]),s._v(" "),a("p",[s._v("퍼그 사용법을 정리해보면 다음과 같다.")]),s._v(" "),a("ol",[a("li",[s._v("퍼그를 설치한다.")]),s._v(" "),a("li",[s._v("익스프레스로 앱을 생성한다.")]),s._v(" "),a("li",[s._v("생성한 앱에 "),a("code",[s._v(".set()")]),s._v(" 메서드로 퍼그의 옵션들을 전달한다.\n"),a("ul",[a("li",[s._v("익스프레스가 서치할 뷰의 디렉토리")]),s._v(" "),a("li",[s._v("템플릿 엔진이 퍼그라는 것을 알리기")])])]),s._v(" "),a("li",[s._v("퍼그 파일 생성 및 코드작성")]),s._v(" "),a("li",[s._v("컨트롤러에서 퍼그를 "),a("code",[s._v(".render()")]),s._v("메서드로 불러온다.")])]),s._v(" "),a("h2",{attrs:{id:"functioning-of-pug"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#functioning-of-pug"}},[s._v("#")]),s._v(" functioning of pug")]),s._v(" "),a("p",[s._v("pug는 크게 세 가지 장점을 내세울 수 있다.")]),s._v(" "),a("ol",[a("li",[s._v("작성이 쉽다.")]),s._v(" "),a("li",[s._v("자바스크립트 코드를 그대로 사용할 수 있다.")]),s._v(" "),a("li",[a("strong",[s._v("Partial")]),s._v("이라는 기능을 통해 코드의 반복을 줄일 수 있다.")])]),s._v(" "),a("p",[s._v("다음과 같은 디렉토리 구조를 가정해본다.")]),s._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("views\n    |--home.pug\n    |--partials\n        |-- footer.pug\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//home.pug")]),s._v("\ndoctype html\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("lang "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ko"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    head\n        title wetube\n    body\n        h1 Welcome to Wetube\n        include partials"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("footer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("pug "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 주목")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//footer.pug")]),s._v("\nfooter "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("copy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" #"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getFullYear")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" Wetube\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("퍼그는 "),a("code",[s._v("include")]),s._v(" 문법을 통해 특정 퍼그 파일을 가져올 수 있다.")]),s._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("pug코드 반복 줄이기")]),s._v(" "),a("p",[s._v("edit, video 등등 여러 페이지에서 footer를 공통적으로 사용하는데 각 페이지마다 특정 명칭을 변경시켜줘야 하는 상황을 가정해보자.\n각 페이지에 맞는 퍼그 파일을 생성하고 전체 코드를 복사해야하는 지에 대해서는 고민해보아야 할 문제이다!")]),s._v(" "),a("p",[s._v("따라서 퍼그의 상속을 이용한다.")])]),s._v(" "),a("h2",{attrs:{id:"inheritance-of-pug"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#inheritance-of-pug"}},[s._v("#")]),s._v(" inheritance of pug")]),s._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("views\n    |--base.pug\n    |--watch.pug\n    |--partials\n            |--footer.pug\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("상속 이전에는 뷰 디렉토리 구조가 위와 같을 때 watch 이외에 다른 페이지가 추가됨에 따라 각각 footer퍼그를 인클루드 해줘야 한다. 상속을 위해 "),a("code",[s._v("base.pug")]),s._v("를 생성한 후에는 "),a("code",[s._v("extends base.pug")]),s._v("라는 코드만 다른 페이지에 추가해주면 된다. "),a("strong",[s._v("장고의 상속 문법과 동일하다!")])]),s._v(" "),a("div",{staticClass:"language-pug line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-pug"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// base.pug")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token doctype"}},[s._v("doctype html")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("html"),a("span",{pre:!0,attrs:{class:"token attributes"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("lang")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ko"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("head")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("title")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("wetube")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("body")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("block content")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("include partials/footer.pug")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("div",{staticClass:"language-pug line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-pug"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends base.pug")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("block content")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("h1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("Hello!")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("장고의 "),a("code",[s._v("block content")]),s._v(" 템플릿 문법과 동일하게 작동한다.")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[a("code",[s._v("block content")]),s._v("의 content는 블록의 명칭일 뿐이므로 자유롭게 정의해도 문제없다.")])]),s._v(" "),a("h2",{attrs:{id:"템플릿-변수"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#템플릿-변수"}},[s._v("#")]),s._v(" 템플릿 변수")]),s._v(" "),a("p",[s._v("활용 시나리오로 "),a("code",[s._v("base.pug")]),s._v("를 상속받는 여러 퍼그들을 새로 정의하고 퍼그마다 서로 다른 네이밍을 전달한다고 가정하자.")]),s._v(" "),a("div",{staticClass:"language-pug line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-pug"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//base.pug")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token doctype"}},[s._v("doctype html")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("html"),a("span",{pre:!0,attrs:{class:"token attributes"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("lang")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ko"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("head")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("title")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("Hello! #{CustomVar}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("body")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("block content")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("include partials/footer.pug")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("위처럼 html "),a("code",[s._v("title")]),s._v("요소에 "),a("code",[s._v("#{}")]),s._v(" 문법을 적용하면 머스태시 괄호 내에 전달하는 변수를 상속받는 퍼그가 렌더링할 "),a("strong",[s._v("컨트롤러에 전달하게 된다")])]),s._v(" "),a("p",[s._v("따라서 템플릿 변수의 사용은 해당 컨트롤러의 인자를 통해 처리해야한다. "),a("code",[s._v("render메서드의 두 번째 인자로 전달. 객체형태로!")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("doctype html\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("lang "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ko"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    head\n        title #"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("PageTitle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Wetube\n    body\n        block content\n        include partials"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("footer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("pug\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("trending")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'home'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("PageTitle")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Home'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("변수 전달 방식의 두 번째 방법으로 다음과 같은 방법이 있다.")]),s._v(" "),a("div",{staticClass:"language-pug line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-pug"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("body")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("header")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("h1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token code"}},[s._v("pageTitle")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("code",[s._v("h1")]),s._v("태그에 pageTitle이라는 변수 값만 넣을 때에는 "),a("code",[s._v("=")]),s._v("를 이용할 수 있고 다른 문자열과 섞어 쓸 때 "),a("code",[s._v("#{..}")]),s._v(" 형태를 사용한다.")]),s._v(" "),a("h2",{attrs:{id:"pug-제어문"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pug-제어문"}},[s._v("#")]),s._v(" pug 제어문")]),s._v(" "),a("p",[s._v("퍼그의 조건문은 다음과 같다.")]),s._v(" "),a("div",{staticClass:"language-pug line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-pug"}},[a("code",[a("span",{pre:!0,attrs:{class:"token flow-control"}},[a("span",{pre:!0,attrs:{class:"token branch keyword"}},[s._v("if")]),s._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("loggedIn")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("small")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("Hello #{user.username}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token flow-control"}},[a("span",{pre:!0,attrs:{class:"token branch keyword"}},[s._v("else")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("a"),a("span",{pre:!0,attrs:{class:"token attributes"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("href")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/login"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("login")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("퍼그의 반복문은 다음과 같다.")]),s._v(" "),a("div",{staticClass:"language-pug line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-pug"}},[a("code",[a("span",{pre:!0,attrs:{class:"token flow-control"}},[a("span",{pre:!0,attrs:{class:"token each"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("each")]),s._v(" value "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")])]),s._v(" values")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token code"}},[s._v("value")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token flow-control"}},[a("span",{pre:!0,attrs:{class:"token each"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("each")]),s._v(" value "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")])]),s._v(" values")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("li")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("#{value}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("위 예시의 "),a("code",[s._v("values")]),s._v("는 컨트롤러로부터 전달받는 변수명과 동일해야한다. 퍼그의 반복문 형태는 다양하므로 도큐먼트를 참고해보아야 한다.")]),s._v(" "),a("h2",{attrs:{id:"퍼그-mixin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#퍼그-mixin"}},[s._v("#")]),s._v(" 퍼그 mixin")]),s._v(" "),a("p",[s._v("믹싱은 "),a("code",[s._v("partial")]),s._v("인데, "),a("strong",[s._v("데이터를 받는 partial")]),s._v("이다. partial의 예시로 footer 컴포넌트 재사용이 있었는데 믹싱도 동일한 아이디어에서 출발한다.")]),s._v(" "),a("p",[s._v("반복문에 단순 데이터의 전달 뿐만 아니라 복잡한 객체에 대해서도 전달이 이루어지고 전체 변수에 대한 입출력이 이루어지므로 코드의 반복이 불가피하다. 이러한 문제점을 해결하기 위해 데이터를 받는 컴포넌트를 partial 처리 한 것이 믹싱이다.")]),s._v(" "),a("p",[s._v("믹싱의 예시는 다음과 같다.")]),s._v(" "),a("div",{staticClass:"language-pug line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-pug"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends base.pug")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("include mixins/video")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("block content")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("h2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("Welcome here you will see the trending videos.")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token flow-control"}},[a("span",{pre:!0,attrs:{class:"token each"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("each")]),s._v(" video "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")])]),s._v(" videos")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token mixin"}},[a("span",{pre:!0,attrs:{class:"token name function"}},[s._v("+video")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("video"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("div",{staticClass:"language-pug line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-pug"}},[a("code",[a("span",{pre:!0,attrs:{class:"token mixin"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("mixin")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("video")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("video"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("div")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("h4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token code"}},[s._v("video"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("title")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("ul")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("li")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("#{video.rating}/5")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("li")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("#{video.comments} comments,")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("li")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("Posted #{video.createdAt},")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("li")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("#{video.views} views.")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ol",[a("li",[s._v("views 디렉토리 하위에 믹싱 폴더 생성 및 믹싱 코드 작성")]),s._v(" "),a("li",[s._v("믹싱 가져올 파일에 include")])]),s._v(" "),a("h2",{attrs:{id:"url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url"}},[s._v("#")]),s._v(" URL")]),s._v(" "),a("p",[s._v("퍼그 상에서 URL 지정시 상대경로 및 절대경로 중에 하나를 고를 수 있다.")]),s._v(" "),a("div",{staticClass:"language-pug line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-pug"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 절대경로 이용시 url 앞에 슬래시를 붙인다.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("a"),a("span",{pre:!0,attrs:{class:"token attributes"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("href")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("video"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("/edit")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("Edit video &rarr;")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 상대경로 이용시 슬래시를 붙이지 않으면 현재 속한 라우터의 url기준 상대경로로 지정한다.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("a"),a("span",{pre:!0,attrs:{class:"token attributes"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("href")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("video"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("/edit")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("Edit video &rarr;")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);